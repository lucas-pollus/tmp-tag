name: Cria nova tag
on:
  workflow_dispatch:
    inputs:
      PROXIMA_VERSAO:
        description: 'Qual a próxima versão?'
        required: true

jobs:
  update-version:
    name: Update Versão
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - run: |
          echo '{ "version": "${{ github.event.inputs.PROXIMA_VERSAO }}" }' > ./assets/version.json

      - uses: EndBug/add-and-commit@v9
        with:
          message: 'Adiciona novo commit de teste ${{ github.event.inputs.PROXIMA_VERSAO }}'
          add: '*.json --force'
          tag: '${{ github.event.inputs.PROXIMA_VERSAO }} --force'
          
